{% if page_object %}
    {% for products in page_object %}
    <tr>
        <td>
            {% if page_object.start_index %}
                {{page_object.start_index|add:forloop.counter0}}
            {% else %}
                {{forloop.counter}}
            {% endif %}
        </td>
        <td>{{products.name}}</td>
        <td>
            {% if request.user.is_superuser %}
                <div class="form-check form-switch">
                    <input 
                        class="form-check-input"
                        hx-post="{% url 'dashboard:product_type_status' products.id %}" 
                        hx-headers='{"X-CSRFToken":"{{ csrf_token }}"}'
                        type="checkbox" {% if products.status %} checked {% endif %}
                        style="cursor: pointer;"
                    >
                </div>  
            {% else %}
                {% if products.status %} Active {% else %} Inactive {% endif %}
            {% endif %}
        </td>
        {% if products.can_modify %}
            {% if perms.authentication.edit_asset_status or perms.authentication.asset_status %}
                <td>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
                        {% if request.user.is_superuser %}
                            <a href="{% url 'assets:asset_status_details' products.id %}" class="btn btn-sm btn-success">
                                <i class="bi bi-eye-fill"></i>
                            </a>
                        {% endif %}

                        {% if perms.authentication.edit_asset_status %}
                            <button type="button" class="btn btn-info"
                                hx-get="{% url 'assets:edit_asset_status' products.id %}"
                                hx-target="#update-asset-status-modal-content" 
                                data-bs-toggle="modal" data-bs-target="#update-asset-status-modal"
                                {% if products.can_modify is False %} disabled {% endif %}
                            >
                                <i class="bi bi-pencil-square"></i>
                            </button>
                        {% endif %}

                        {% if perms.authentication.asset_status %}
                            <form action="{% url 'assets:delete_asset_status' products.id %}" method="post" onsubmit="return confirm('Are you sure you want to delete this?')">  
                                {% csrf_token %}
                                <button type="submit" class="btn btn-sm btn-danger" {% if products.can_modify is False %} disabled {% endif %}>
                                    <i class="bi bi-trash3-fill"></i>
                                </button>
                            </form> 
                        {% endif %}
                    </div>
                </td>
            {% endif %}

            {% else %}
                <td><div><p class="fw-bold">Actions are not allowed!</p></div></td>
        {% endif %}
    </tr>
    {% endfor %}
{% else %}
    <td colspan="8" class="text-center"> No record found related to your search keyword</td>
{% endif %}
